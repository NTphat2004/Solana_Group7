<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create NFT</title>
    <link rel="icon" type="image/x-icon" href="/images/icons8-nft-38.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;1,500&display=swap" rel="stylesheet">
    <style>
        .gradient-background {
           background: rgb(4, 4, 4);
    background: linear-gradient(90deg, rgba(4, 4, 4, 1) 1%, rgba(15, 4, 88, 1) 50%, rgba(4, 4, 4, 1) 99%);
    min-height: 710px;
        }
        .form-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
        }
        .uploaded-img img {
            height: 100%;
            width: 100%;
            object-fit: cover;
        }
        .button-24, .button-25 {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
        }
        
        .cta {
  width: 100%;
  height: 100%;
  border: none;
  outline: none;
  background-color: none;
  border-radius: 9999px;
  padding: 8px 16px;
  color: white;
  font-size: 15px;
  background: linear-gradient(109.6deg, #090979 11.2%, #9006A1 53.7%, #090979 100.2%);
  letter-spacing: 0.08em;
  font-weight: 800;
  position: relative;
}

.cta:active {
  animation: pulsa-active .4s infinite;
}

.star {
  width: 2px;
  height: 2px;
  background-color: white;
  border-radius: 50%;
  position: absolute;
  animation: pulsa-stella 1.8s infinite;
  transition: all .8s ease-in-out;
}

.star.a {
  top: 8px;
  left: 6px;
}

.star.b {
  top: 2px;
  left: 16px;
}

.star.c {
  top: 18px;
  left: 8px;
}

.star.d {
  top: 14px;
  left: 20px;
}

.star.e {
  top: 30px;
  left: 8px;
}

.star.f {
  top: 24px;
  left: 24px;
}

.star.g {
  top: 10px;
  left: 32px;
}

.pulsa:hover .star.a {
  transform: translate3d(0px, 8px, 0);
}

.pulsa:hover .star.b {
  transform: translate3d(-4px, 6px, 0);
}

.pulsa:hover .star.c {
  transform: translate3d(14px, -8px, 0);
}

.pulsa:hover .star.d {
  transform: translate3d(16px, -2px, 0);
}

.pulsa:hover .star.e {
  transform: translate3d(58px, -20px, 0);
}

.pulsa:hover .star.f {
  transform: translate3d(34px, 2px, 0);
}

.pulsa:hover .star.g {
  transform: translate3d(10px, 16px, 0);
}

.rocket {
  position: absolute;
  top: 8px;
  right: 16px;
  z-index: -1;
  transform: rotate(180deg);
  transition: all .3s ease-in-out;
}

.pulsa:hover .rocket {
  z-index: auto;
  animation: muovi-razzo 1.8s linear;
  transform: rotate(0deg);
}

@keyframes pulsa {
  0% {
    box-shadow: 0 0 0 0 #9006A1;
  }

  100% {
    box-shadow: 0 0 0 8px #fbb32f01;
  }
}

@keyframes pulsa-stella {
  0% {
    box-shadow: 0 0 0 0 #ffffff;
  }

  100% {
    box-shadow: 0 0 0 4px #fbb32f01;
  }
}

@keyframes muovi-razzo {
  from {
    transform: rotate(180deg);
  }

  25% {
    transform: translate3d(40px, 32px, 0);
  }

  50% {
    transform: translate3d(32px, -60px, 0);
  }

  75% {
    transform: translate3d(0px, -60px, 0) rotate(0);
  }

  to {
    transform: rotate(0deg);
  }
}

@keyframes pulsa-active {
  0% {
    box-shadow: 0 0 0 0 #9006A1;
  }

  100% {
    box-shadow: 0 0 0 16px #fbb32f01;
  }
}
 body {
    font-family: 'Montserrat';
font-size: 20px;
  }

  .pulsa {
  animation: pulsa 1.4s infinite;
  min-width: 120px;
  width: fit-content;
  border-radius: 9999px;
  /* overflow: hidden; */
}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const xApiKey = "0ZZi5a0Eo89-knJM"; // Enter Your x-api-key here
        let file, displayPic = './resources/images/upload-file.jpg', network = 'devnet';
        let publicKey = '7CqNMsdsHzxvCtAqYN3KNAk496x6XAzgaUSbhSaRupZB', name, symbol, desc;
        let attr = JSON.stringify([{"trait_type": "edification","value": "100"}]), extUrl, maxSup = 0, roy = 99;
        let minted, saveMinted, errorRoy, status = 'Awaiting Upload', dispResponse = '', connStatus = true;

        function handleFileChange(event) {
            const [file_selected] = event.target.files;
            file = event.target.files[0];
            displayPic = URL.createObjectURL(file_selected);
            document.getElementById('uploaded-img').src = displayPic;
        }

        async function signAndConfirmTransactionFe(network, transaction, callback) {
            // Implement your sign and confirm transaction function here
        }

        function mintNow(event) {
            event.preventDefault();
            status = "Loading";
            updateStatus();

            let formData = new FormData();
            formData.append("network", network);
            formData.append("wallet", publicKey);
            formData.append("name", name);
            formData.append("symbol", symbol);
            formData.append("description", desc);
            formData.append("attributes", JSON.stringify(attr));
            formData.append("external_url", extUrl);
            formData.append("max_supply", maxSup);
            formData.append("royalty", roy);
            formData.append("file", file);

            axios({
                url: "https://api.shyft.to/sol/v1/nft/create_detach",
                method: "POST",
                headers: {
                    "Content-Type": "multipart/form-data",
                    "x-api-key": xApiKey,
                    Accept: "*/*",
                    "Access-Control-Allow-Origin": "*",
                },
                data: formData,
            })
            .then(async (res) => {
                if (res.data.success === true) {
                    status = "success: Transaction Created. Signing Transactions. Please Wait.";
                    const transaction = res.data.result.encoded_transaction;
                    saveMinted = res.data.result.mint;
                    const ret_result = await signAndConfirmTransactionFe(network, transaction, callback);
                    dispResponse = res.data;
                    updateResponse();
                }
            })
            .catch((err) => {
                console.warn(err);
                status = "success: false";
                updateStatus();
            });
        }

        function updateStatus() {
            document.getElementById('status').innerText = status;
        }

        function updateResponse() {
            document.getElementById('response').value = JSON.stringify(dispResponse);
        }

        function callback(signature, result) {
            if (signature.err === null) {
                minted = saveMinted;
                status = "success: Successfully Signed and Minted.";
                updateStatus();
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById('create-nft-form').addEventListener('submit', mintNow);
        });
    </script>
</head>
<body>
    <div class="gradient-background">
    <nav class="navbar navbar-expand-lg navbar-sm   bg-secondary bg-gradient bg-opacity-10 sticky-top"
      style="background-color: transparent;">
      <div class="container-fluid justify-content-between">
        <a class="navbar-brand d-flex align-items-center" href="layout.html">
          <img src="../images/icons8-axie-infinity-41.png" alt="">
          <span class="ms-2 text-white">Market NFTs</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active fw-bold text-white" aria-current="page" href="/home">MARKET PLACE</a>
            </li>
            <li class="nav-item ms-2">
              <a class="nav-link fw-bold text-white" href="/user/userapp">MY APP</a>
            </li>
            <li class="nav-item ms-2">
              <a class="nav-link fw-bold text-white" href="#!gioithieu">CONTACT US</a>
            </li>
            <li class="nav-item ms-2">
              <a class="nav-link fw-bold text-white" href="/user/mynft">My NFTs</a>
            </li>
          </ul>
	
          <form method="get" action=""  class="d-flex">
            <div  th:if="${ #strings.isEmpty(session.Login)}"  id="pulsa" class="pulsa me-lg-5">
              <button formaction="/login" id="cta" class="cta">
                Login <div class="star a"></div>
              <div class="star b"></div>
              <div class="star c"></div>
              <div class="star d"></div>
              <div class="star e"></div>
              <div class="star f"></div>
              <div class="star g"></div>
              <svg version="1.1" viewBox="0 0 1024 1024" width="24px" class="rocket"><path fill="#3A7EB9" d="M662.72 462.784l136.448 169.408v173.248l-136.448-48.32zM342.72 457.344L206.272 626.816v173.248l136.448-48.384z"></path><path fill="#D48171" d="M570.688 418.688l-142.848 1.152a266.496 266.496 0 0 1-20.288-0.576l3.712 448.64c0.256 28.928 94.272 130.048 94.272 130.048s93.888-102.656 93.632-131.584l-3.712-448.96a344.64 344.64 0 0 1-24.768 1.28z"></path><path fill="#E9DF92" d="M531.456 599.296l-63.04 0.576c-3.008 0-5.952-0.064-8.96-0.384l2.176 257.792c0.128 16.64 41.728 74.816 41.728 74.816s41.344-58.944 41.28-75.52l-2.176-257.92c-3.648 0.384-7.296 0.64-11.008 0.64z"></path><path fill="#B5D5EB" d="M554.304 93.568a324.352 324.352 0 0 0-110.592 1.728L342.72 240.768v584.512c13.824-0.96 27.968-1.536 42.368-1.536h245.248c11.84 0 23.36 0.384 34.816 1.024V253.312L554.304 93.568z"></path><path fill="#3A7EB9" d="M541.44 94.144L500.416 35.008l-45.696 59.136v29.504h89.024v-29.504zM459.456 288.64h88.96v88.896h-88.96zM459.456 467.456h88.96v88.96h-88.96zM459.456 634.176h88.96v88.896h-88.96zM364.928 788.736h277.76v44.352h-277.76z"></path></svg>
              </button>
              
            </div>
            
            
             <div th:if="${not #strings.isEmpty(session.Login)}" id="pulsa" class="pulsa me-lg-5">
              <button formaction="/logout" id="cta" class="cta">
                Log Out <div class="star a"></div>
              <div class="star b"></div>
              <div class="star c"></div>
              <div class="star d"></div>
              <div class="star e"></div>
              <div class="star f"></div>
              <div class="star g"></div>
              <svg version="1.1" viewBox="0 0 1024 1024" width="24px" class="rocket"><path fill="#3A7EB9" d="M662.72 462.784l136.448 169.408v173.248l-136.448-48.32zM342.72 457.344L206.272 626.816v173.248l136.448-48.384z"></path><path fill="#D48171" d="M570.688 418.688l-142.848 1.152a266.496 266.496 0 0 1-20.288-0.576l3.712 448.64c0.256 28.928 94.272 130.048 94.272 130.048s93.888-102.656 93.632-131.584l-3.712-448.96a344.64 344.64 0 0 1-24.768 1.28z"></path><path fill="#E9DF92" d="M531.456 599.296l-63.04 0.576c-3.008 0-5.952-0.064-8.96-0.384l2.176 257.792c0.128 16.64 41.728 74.816 41.728 74.816s41.344-58.944 41.28-75.52l-2.176-257.92c-3.648 0.384-7.296 0.64-11.008 0.64z"></path><path fill="#B5D5EB" d="M554.304 93.568a324.352 324.352 0 0 0-110.592 1.728L342.72 240.768v584.512c13.824-0.96 27.968-1.536 42.368-1.536h245.248c11.84 0 23.36 0.384 34.816 1.024V253.312L554.304 93.568z"></path><path fill="#3A7EB9" d="M541.44 94.144L500.416 35.008l-45.696 59.136v29.504h89.024v-29.504zM459.456 288.64h88.96v88.896h-88.96zM459.456 467.456h88.96v88.96h-88.96zM459.456 634.176h88.96v88.896h-88.96zM364.928 788.736h277.76v44.352h-277.76z"></path></svg>
              </button>
              
            </div>
            
            
            
             <div th:if="${session.Login != null && session.Login.role.contains('Admin')}" id="pulsa" class="pulsa me-lg-5">
  <button formaction="/admin" id="cta" class="cta">
    App
    <div class="star a"></div>
    <div class="star b"></div>
    <div class="star c"></div>
    <div class="star d"></div>
    <div class="star e"></div>
    <div class="star f"></div>
    <div class="star g"></div>
    <svg version="1.1" viewBox="0 0 1024 1024" width="24px" class="rocket">
      <path fill="#3A7EB9" d="M662.72 462.784l136.448 169.408v173.248l-136.448-48.32zM342.72 457.344L206.272 626.816v173.248l136.448-48.384z"></path>
      <path fill="#D48171" d="M570.688 418.688l-142.848 1.152a266.496 266.496 0 0 1-20.288-0.576l3.712 448.64c0.256 28.928 94.272 130.048 94.272 130.048s93.888-102.656 93.632-131.584l-3.712-448.96a344.64 344.64 0 0 1-24.768 1.28z"></path>
      <path fill="#E9DF92" d="M531.456 599.296l-63.04 0.576c-3.008 0-5.952-0.064-8.96-0.384l2.176 257.792c0.128 16.64 41.728 74.816 41.728 74.816s41.344-58.944 41.28-75.52l-2.176-257.92c-3.648 0.384-7.296 0.64-11.008 0.64z"></path>
      <path fill="#B5D5EB" d="M554.304 93.568a324.352 324.352 0 0 0-110.592 1.728L342.72 240.768v584.512c13.824-0.96 27.968-1.536 42.368-1.536h245.248c11.84 0 23.36 0.384 34.816 1.024V253.312L554.304 93.568z"></path>
      <path fill="#3A7EB9" d="M541.44 94.144L500.416 35.008l-45.696 59.136v29.504h89.024v-29.504zM459.456 288.64h88.96v88.896h-88.96zM459.456 467.456h88.96v88.96h-88.96zM459.456 634.176h88.96v88.896h-88.96zM364.928 788.736h277.76v44.352h-277.76z"></path>
    </svg>
  </button>
</div>
            
            
            
            
          </form>
          <div  class="d-flex">
          <div th:if="${session.Login != null && #strings.isEmpty(session.Login.walletAddress)}"  id="pulsa" class="pulsa me-lg-5">
              <button onclick="connectToWallet()" id="cta" class="cta">
                Connect <div class="star a"></div>
              <div class="star b"></div>
              <div class="star c"></div>
              <div class="star d"></div>
              <div class="star e"></div>
              <div class="star f"></div>
              <div class="star g"></div>
              <svg version="1.1" viewBox="0 0 1024 1024" width="24px" class="rocket"><path fill="#3A7EB9" d="M662.72 462.784l136.448 169.408v173.248l-136.448-48.32zM342.72 457.344L206.272 626.816v173.248l136.448-48.384z"></path><path fill="#D48171" d="M570.688 418.688l-142.848 1.152a266.496 266.496 0 0 1-20.288-0.576l3.712 448.64c0.256 28.928 94.272 130.048 94.272 130.048s93.888-102.656 93.632-131.584l-3.712-448.96a344.64 344.64 0 0 1-24.768 1.28z"></path><path fill="#E9DF92" d="M531.456 599.296l-63.04 0.576c-3.008 0-5.952-0.064-8.96-0.384l2.176 257.792c0.128 16.64 41.728 74.816 41.728 74.816s41.344-58.944 41.28-75.52l-2.176-257.92c-3.648 0.384-7.296 0.64-11.008 0.64z"></path><path fill="#B5D5EB" d="M554.304 93.568a324.352 324.352 0 0 0-110.592 1.728L342.72 240.768v584.512c13.824-0.96 27.968-1.536 42.368-1.536h245.248c11.84 0 23.36 0.384 34.816 1.024V253.312L554.304 93.568z"></path><path fill="#3A7EB9" d="M541.44 94.144L500.416 35.008l-45.696 59.136v29.504h89.024v-29.504zM459.456 288.64h88.96v88.896h-88.96zM459.456 467.456h88.96v88.96h-88.96zM459.456 634.176h88.96v88.896h-88.96zM364.928 788.736h277.76v44.352h-277.76z"></path></svg>
              </button>
             
            </div>
            
            
            
           
            
          </div>
        </div>
      </div>
    </nav>
        <div class="container p-5">
            <div class="form-container border border-primary rounded py-3 px-5">
                <h3 class="pt-4">Create An Nft</h3>
                <p>This Sample Project Illustrates how to create new NFTs using SHYFT APIs.</p>
                <form id="create-nft-form">
                    <div class="img-container text-center mt-5">
                        <div class="uploaded-img" style="height: 200px; width: 200px; background-color: grey; margin: 0 auto; border-radius: 10px;">
                            <img id="uploaded-img" src="/images/isometric_7.jpg" alt="To be uploaded">
                        </div>
                        <div class="mt-3"></div>
                        <button class="btn btn-primary button-24 text-light rounded-pill m-2">Select File</button><br>
                        <input type="file" style="position: absolute; z-index: 3; margin-top: -50px; margin-left: -70px; width: 150px; height: 40px; opacity: 0;" onchange="handleFileChange(event)">
                        <div class="mb-3"></div>
                    </div>
                    <div class="fields">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <td class="py-4 ps-2 w-50 text-start">
                                        Network<br>
                                        <small>Solana blockchain environment (testnet/devnet/mainnet-beta)</small>
                                    </td>
                                    <td class="px-5 pt-4">
                                        <select name="network" class="form-select" onchange="network = this.value">
                                            <option value="devnet">Devnet</option>
                                            <option value="testnet">Testnet</option>
                                            <option value="mainnet-beta">Mainnet Beta</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 w-50 text-start">
                                        Public Key<br>
                                        <small>Your wallet's public key (string)</small>
                                    </td>
                                    <td class="px-5 pt-4">
                                        <input type="text" class="form-control" placeholder="Enter Your Wallet's Public Key" value="7CqNMsdsHzxvCtAqYN3KNAk496x6XAzgaUSbhSaRupZB" oninput="publicKey = this.value" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 text-start">Name<br>
                                        <small>Your NFT Name (string)</small>
                                    </td>
                                    <td class="px-5 pt-4">
                                        <input type="text" class="form-control" placeholder="Enter NFT Name" oninput="name = this.value" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 text-start">Symbol<br>
                                        <small>Your NFT Symbol (string)</small>
                                    </td>
                                    <td class="px-5 pt-4">
                                        <input type="text" class="form-control" placeholder="symbol" oninput="symbol = this.value" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 text-start">Description <br>
                                        <small>Add a small story to this NFT (string)</small>
                                    </td>
                                    <td class="px-5 py-3">
                                        <textarea class="form-control" placeholder="Enter Description" oninput="desc = this.value" required></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 text-start">Attributes <br>
                                        <small>Attributes associated to this NFT. (Should have 'trait_type' and 'value')</small>
                                    </td>
                                    <td class="px-5 py-3">
                                        <textarea class="form-control" placeholder="Enter Attributes" oninput="attr = this.value" required></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-4 ps-2 text-start">External Url <br>
                                        <small>Any url to associate with the NFT</small>
                                    </td>
                                    <td class="px-5 pt-4">
                                        <input type="text" class="form-control" placeholder="Enter Url if Any" oninput="extUrl = this.value">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="p-5 text-center">
                            <button type="submit" class="btn btn-success button-25">Submit</button>
                        </div>
                    </div>
                </form>
                <div class="text-center">
                    This creates one of kind NFTs by setting the <code>max_supply</code> parameter to 0. But you can update it if needed, it should be between <i>0-100</i>.
                </div>
            </div>
            <div class="py-5">
                <h2 class="text-center pb-3">Response</h2>
                <div id="status" class="status text-center text-info p-3"><b>Awaiting Upload</b></div>
                <textarea id="response" class="form-control" name="" cols="30" rows="10"></textarea>
            </div>
            <div class="p-3 text-center">
                <a id="view-on-explorer" href="#" target="_blank" class="btn btn-warning m-2 py-2 px-4" style="display: none;">View on Explorer</a>
            </div>
        </div>
    </div>
</body>
</html>
